<form class="search-main" data-ng-show="!hideSearchBar">
    <div class="container">
        <div class=" row">
            <!--<div class="col-md-4 relative">-->
            <!--<i class="icon-location2"></i>-->
            <!--&lt;!&ndash;<input type="text" class="form-control" placeholder="Location">&ndash;&gt;-->
            <!--<div angucomplete-alt id="searchLocation"-->
            <!--placeholder="Location"-->
            <!--pause="1000"-->
            <!--selected-object="selectedSearchLocation"-->
            <!--local-data="searchLocations"-->
            <!--search-fields="ProductId,Name"-->
            <!--title-field="Name"-->
            <!--minlength="1"-->
            <!--input-class="form-control input"-->
            <!--match-class="highlight"-->
            <!--initial-value="selectedLocationName"-->
            <!--disable-input="true" >-->
            <!--</div>-->
            <!--</div>-->
            <div class="col-md-4 relative">
                <!--<i class="icon-location2"></i>-->
                <input type="text" class="form-control input" placeholder="" readonly data-ng-model="hotelItem.Name">
            </div>
            <div class="col-md-2 relative">
                <i class="icon-calendar"></i>
                <input id="checkInDate" type="text" class="form-control input" data-date-picker data-start-date="+1d"
                       placeholder="{{'CHECK_IN'|translate}}" data-ng-model="checkInDate" data-init-date="checkInDate">
            </div>
            <div class="col-md-2 relative">
                <i class="icon-calendar"></i>
                <input id="checkOutDate" type="text" class="form-control input" data-date-picker data-start-date="+2d"
                       placeholder="{{'CHECK_OUT'|translate}}" data-ng-model="checkOutDate"
                       data-init-date="checkOutDate">
            </div>
            <div class="col-md-3 relative">
                <i class="icon-users"></i>
                <input type="text" class="form-control input" placeholder="0 room(s) 0 adult(s) 0 minor(s)"
                       data-ng-model="roomsInfo"
                       uib-popover-template="guestsTemplateUrl" popover-title="{{'GUESTS'|translate}}"
                       popover-is-open="showGuests" ng-click="showGuests = true"
                       popover-trigger="none" popover-placement="bottom">
            </div>
            <div class="col-md-1 relative">
                <a href data-ng-click="checkAvailability(true)" uib-tooltip="{{tooltips|translate}}"
                   tooltip-class="error" tooltip-is-open="showTooltip" tooltip-placement="auto top"
                   tooltip-trigger="none"><i class="icon-search"></i></a>
            </div>
        </div>
    </div>
</form>
<div class="container-bg container-padding" id="top">
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <div class="relative">
                    <div class="slides-container slider-wrap">
                        <!-- Loading Screen -->
                        <div data-u="loading" style="position: absolute;top:0;left:0;">
                            <div class="loading-icon"></div>
                        </div>
                        <div id='slides' data-u="slides" class="slider-list-wrap">
                            <!--<div data-p="112.50" data-ng-repeat="item in serviceItem.SliderImages" data-enable-jssor data-jssor-options="jssorOptions1" data-jssor-trigger="{{$last}}">-->
                            <!--<img data-u="image" data-ng-src="{{item.ImagePath}}" />-->
                            <!--<img data-u="thumb" data-ng-src="{{item.ImagePath}}" />-->
                            <!--</div>-->
                        </div>

                        <!-- Thumbnail Navigator -->
                        <div u="thumbnavigator" class="thum-wrap" data-autocenter="1">
                            <div class="text-wrap"></div>
                            <!-- Thumbnail Item Skin Begin -->
                            <div u="slides">
                                <div u="prototype" class="p">
                                    <div class="thum-list">
                                        <div u="thumbnailtemplate" class="thum"></div>
                                    </div>
                                    <div class="layer"></div>
                                </div>
                            </div>
                            <!-- Thumbnail Item Skin End -->
                        </div>
                    </div>
                </div>
            </div>
            <section class="col-md-4">
                <div class="service-detail-info">
                    <span class="caption">{{hotelItem.Name}}</span>
                </div>
                <div class="row tab-list">
                    <div class="col-xs-12 col-md-12"><span>{{"STAR"|translate}}: </span><i
                            data-ng-class="starClass"></i></div>
                    <div class="col-xs-6 col-md-6"><span>{{"ID"|translate}}: </span>{{hotelItem.ProductId}}</div>
                    <div class="col-xs-6 col-md-6"><span>{{"TYPE"|translate}}: </span>{{hotelItem.HotelType.Name}}</div>
                </div>
                <!--<div><a href onclick="scrollToControl('detail')"><span>{{hotelItem.MainInformation.PlainText}}</span></a>-->
                <!--</div>-->
                <div>{{hotelItem.MainInformation.PlainText}}
                </div>
                <!--<div class="tax-com-part">-->
                <!--<div class="col-xs-6 col-md-6"><span>9.5</span><a href="#">300 comments</a></div>-->
                <!--<div class="col-xs-6 col-md-6"><span>12%</span><p>Tax & Service</p></div>-->
                <!--</div>-->
                <!--<div class="clearfix"></div>-->
                <!--<div class="pos-map">-->
                    <!--<a href data-ng-show="!hideSearchBar" onclick="scrollToControl('category')"><i class="glyphicon glyphicon-th-list"></i>&nbsp;{{"ROOM_TYPE"|translate}}</a>-->
                    <!--&lt;!&ndash;<a href onclick="scrollToControl('detail')" data-ng-show="hotelItem.AdditionalInformation.length > 0"><i class="glyphicon glyphicon-list-alt"></i>&nbsp;Detail</a>&ndash;&gt;-->
                    <!--<a href onclick="scrollToControl('map')"><i class="glyphicon glyphicon-map-marker"></i>&nbsp;{{"LOCATION"|translate}}</a>-->
                    <!--<br><br>-->
                    <!--<a href onclick="scrollToControl('term')" data-ng-show="hotelItem.Warnings.length > 0"><i-->
                            <!--class="glyphicon glyphicon-info-sign"></i>&nbsp;{{hotelItem.Warnings[0].Title}}</a>-->
                <!--</div>-->
                <!--<div class="row">-->
                <!--<div class="price-btn-part">-->
                <!--<div class="col-xs-12 col-md-12 text-right">-->
                <!--<a href class="btn btn-red">Check Availability</a></div>-->
                <!--</div>-->
                <!--</div>-->
            </section>
        </div>
        <div class="detail-nav-wrap is-stuck">
            <nav class="container">
                <ul>
                    <li class="menu-item"><a href onclick="scrollToControl('top')">{{"TOP"|translate}}</a></li>
                    <li class="menu-item" data-ng-show="!hideSearchBar"><a href onclick="scrollToControl('category')">{{"ROOM_TYPE"|translate}}</a>
                    </li>
                    <!--<li class="menu-item" data-ng-show="hotelItem.AdditionalInformation.length > 0" ><a href-->
                                                                                                       <!--onclick="scrollToControl('detail')">{{detailTitle}}</a>-->
                    <!--</li>-->
                    <li class="menu-item" data-ng-repeat="item in hotelItem.AdditionalInformation" ><a href
                                                                                                        data-ng-click="scrollToControl(item.InformationId)">{{item.Title}}</a>
                    </li>
                    <li class="menu-item" data-ng-show="hotelItem.Warnings.length > 0"><a href
                                                                                          onclick="scrollToControl('term')">{{hotelItem.Warnings[0].Title}}</a>
                    </li>
                    <li class="menu-item"><a href onclick="scrollToControl('map')">{{"LOCATION"|translate}}</a></li>
                </ul>
            </nav>
        </div>
        <section class="detail-wrap" id="category" data-ng-show="!hideSearchBar">
            <!--<h3>Rooms&nbsp;&nbsp;&nbsp;&nbsp;<small data-ng-show="!hotelItem.AvailabilityCategories"><a href onclick="scrollToControl('top')">Fill out information to check availability</a></small></h3>-->
            <div class="row">
                <div class="col-sm-3 col-md-3">
                    <h3>{{"ROOM_TYPE"|translate}}</h3>
                </div>
                <div class="col-sm-9 col-md-9 search-box">
                    <form class="form-inline">
                        <div class="form-group form-group-sm pos-date">
                            <i class="icon-calendar icon"></i>
                            <input id="checkInDate2" type="text" class="form-control input-sm" data-date-picker
                                   data-start-date="+1d"
                                   style="width: 150px;"
                                   placeholder="{{'CHECK_IN'|translate}}" data-ng-model="checkInDate"
                                   data-init-date="checkInDate">
                        </div>
                        <div class="form-group form-group-sm pos-date">
                            <i class="icon-calendar icon"></i>
                            <input id="checkOutDate2" type="text" class="form-control input-sm" data-date-picker
                                   data-start-date="+2d"
                                   style="width: 150px;"
                                   placeholder="{{'CHECK_OUT'|translate}}" data-ng-model="checkOutDate"
                                   data-init-date="checkOutDate">
                        </div>
                        <div class="form-group form-group-sm pos-number">
                            <i class="icon-users icon"></i>
                            <input type="text" class="form-control input-sm input-guests"
                                   placeholder="0 room(s) 0 adult(s) 0 minor(s)"
                                   data-ng-model="roomsInfo"
                                   style="width: 150px;"
                                   uib-popover-template="guestsTemplateUrl" popover-title="{{'GUESTS'|translate}}"
                                   popover-is-open="showGuests1" ng-click="showGuests1 = true"
                                   popover-trigger="none" popover-placement="bottom">
                        </div>
                        <div class="form-group form-group-sm">
                            <select class="form-control input-sm"
                                    style="width: 150px;"
                                    data-ng-model="availabilityFilter">
                                <option value="0">{{'ALL'|translate}}</option>
                                <option value="1">{{'AVAILABLE'|translate}}</option>
                                <option value="2">{{'REQUESTABLE'|translate}}</option>
                                <option value="3">{{'NO_NOT_AVAILABLE'|translate}}</option>
                            </select>
                        </div>
                        <div class="form-group form-group-sm pos-button">
                            &nbsp;&nbsp;<a href data-ng-click="checkAvailability(true)"
                                           uib-tooltip="{{tooltips|translate}}"
                                           tooltip-class="error" tooltip-is-open="showTooltip"
                                           tooltip-placement="auto top"
                                           tooltip-trigger="none"><span class="glyphicon glyphicon-search"
                                                                        aria-hidden="true"></span></a>
                        </div>
                    </form>
                </div>
            </div>
            <div class="table-content">
                <div class="table-content">
                    <div class="table-responsive">
                        <script type="text/ng-template" id="myTooltipTemplate.html">
                            <table class="table table-bordered" style="margin-bottom:0;" click-outside="closePrice()">
                                <thead>
                                    <tr>
                                        <td >{{'ROOM'|translate}} #</td>
                                        <td data-ng-show="showBeds">{{"BEDS"|translate}}</td>
                                        <td data-ng-show="showRoomSupplements">{{"SUPPLEMENTS"|translate}}</td>
                                        <td>{{'NIGHT'|translate}} #</td>
                                        <td>{{'PRICE'|translate}}</td>
                                        <td data-ng-show="showNightSupplements" >{{"SUPPLEMENTS"|translate}}</td>
                                        <td>{{'GUEST'|translate}} #</td>
                                        <td>{{'TYPE'|translate}}</td>
                                        <td>{{'AGE'|translate}}</td>
                                        <td data-ng-show="showGuestSupplements">{{"SUPPLEMENTS"|translate}}</td>
                                        <td data-ng-show="showGuestPrice">{{'PRICE'|translate}}</td>
                                        <!--<td>{{'NIGHT'|translate}} {{'PRICE'|translate}}</td>-->
                                        <td data-ng-show="totalPayAtHotel > 0">{{'PAY_AT_HOTEL'|translate}}</td>
                                        <td>{{"SUBTOTAL"|translate}}</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr data-ng-repeat="item in currentCategory">
                                        <td rowspan="{{item.roomSpan}}" data-ng-show="item.roomShow">{{item.roomId}}</td>
                                        <td rowspan="{{item.roomSpan}}" data-ng-show="item.roomShow && showBeds ">{{item.beds}}</td>
                                        <td rowspan="{{item.roomSpan}}" data-ng-show="item.roomShow && showRoomSupplements"  class="text-left" data-ng-bind-html="item.roomSupplements"></td>
                                        <td rowspan="{{item.nightSpan}}" data-ng-show="item.nightShow">{{item.nightId}}</td>
                                        <td class="text-info" rowspan="{{item.nightSpan}}" data-ng-show="item.nightShow">${{item.nightPrice| number: 2}}</td>
                                        <td rowspan="{{item.nightSpan}}" data-ng-show="item.nightShow && showNightSupplements"  class="text-left" data-ng-bind-html="item.nightSupplements"></td>
                                        <td>{{item.guestId}}</td>
                                        <td>{{item.guestType}}</td>
                                        <td>{{item.guestAge}}</td>
                                        <td class="text-left" data-ng-bind-html="item.guestSupplements" data-ng-show="showGuestSupplements"></td>
                                        <td class="text-info" data-ng-show="showGuestPrice">${{item.guestPrice| number: 2}}</td>
                                        <!--<td class="text-warning" rowspan="{{item.nightSpan}}" data-ng-show="item.nightShow" >${{item.nightPrice}}</td>-->
                                        <td rowspan="{{item.nightSpan}}" data-ng-show="item.nightShow && totalPayAtHotel > 0" >${{item.nightPayAtHotel| number: 2}}</td>
                                        <td class="text-red" rowspan="{{item.roomSpan}}" data-ng-show="item.roomShow">${{item.roomPrice| number: 2}}</td>
                                    </tr>
                                    <tr>
                                        <td class="text-right" colspan="{{totalColSpan}}">{{"TOTAL"|translate}}</td>
                                        <td data-ng-show="totalPayAtHotel" >${{totalPayAtHotel| number: 2}}</td>
                                        <td class="text-red">${{currentCategory[0].totalPrice| number: 2}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </script>
                        <table class="table table-hover" data-ng-show="!hotelItem.AvailabilityCategories">
                            <thead>
                            <tr class="thead">
                                <td class="tlist-3">{{"NAME"|translate}}</td>
                                <td>{{"INFORMATION"|translate}}</td>
                            </tr>
                            </thead>
                            <tbody>
                            <tr data-ng-repeat="item in hotelItem.Categories" data-ng-show="item.Information.length == 1">
                                <td><strong>{{item.Name}}</strong></td>
                                <td data-ng-bind-html="item.Information[0].FormattedText"></td>
                            </tr>
                            </tbody>
                        </table>
                        <table class="table table-hover" data-ng-show="hotelItem.AvailabilityCategories">
                            <thead>
                            <tr class="thead">
                                <td>{{"NAME"|translate}}</td>
                                <td class="tlist-4">{{"PRICE"|translate}}</td>
                                <td class="tlist-2">{{"CANCEL_BY"|translate}}</td>
                                <td class="tlist-4">{{"AVAILABLE"|translate}}</td>
                                <td class="tlist-4">{{"ACTION"|translate}}</td>
                            </tr>
                            </thead>
                            <tbody>
                            <tr data-ng-repeat-start="item in hotelItem.AvailabilityCategories | filter:{AvailabilityLevel:availabilityFilter}:myFilter:'AvailabilityLevel' | orderBy:['AvailabilityLevel', 'Price']:false:myComparator"
                                data-ng-class="{'active':item.AvailabilityLevel=='NotAvailable'}">
                                <td>
                                    <!--<div class="media media-roomlist">-->
                                    <!--<div class="media-left media-middle">-->
                                    <!--<img class="media-object" src="images/na.png">-->
                                    <!--</div>-->
                                    <!--<div class="media-body">-->
                                    <!--<h5 class="media-heading">{{item.Name}}</h5>-->
                                    <!--<p class="p-detail">Product ID: {{item.Id}}</p>-->
                                    <!--</div>-->
                                    <!--</div>-->
                                    <span><strong><a href data-ng-click="item.show = !item.show">{{item.Name}}</a></strong></span>
                                    <br><span>{{"ID"|translate}}: {{item.Id}}</span>&nbsp;&nbsp;&nbsp;&nbsp;<span data-ng-show="item.RatePlan.Name != ''">{{"RATE_PLAN"|translate}}: {{item.RatePlan.Id}}-{{item.RatePlan.Name}}</span>
                                </td>
                                <td>
                                    <span class="price">${{item.Price | number: 2}}</span>
                                    &nbsp;
                                    <i class="icon-price-tags" style="color:lightblue;cursor:pointer;"
                                       tooltip-trigger="none"
                                       tooltip-is-open="hotelItem.AvailabilityCategories[getIndexByCategoryId(item.Id)].showPrice"
                                       tooltip-placement="bottom" tooltip-class="customClass"
                                       uib-tooltip-template="'myTooltipTemplate.html'"
                                       data-ng-click="showHidePrice(item.Id)"></i>
                                </td>
                                <td>
                                    <span data-ng-show="item.CancelInfo == null || item.CancelInfo.CancelBy == null"><a href data-ng-click="checkCancelInfo(item.Id)">{{"VIEW_INFO"|translate}}</a></span>
                                    <span data-ng-show="item.CancelInfo != null && item.CancelInfo.CancelBy != null">{{item.CancelInfo.CancelBy | limitTo:10}}</span>
                                </td>
                                <td>
                                    <span class=" glyphicon glyphicon-ok-sign" aria-hidden="true" style="font-size:32px;
                                    color:#99cc33;" data-ng-show="item.AvailabilityLevel == 'Available'"></span>
                                    <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"
                                          style="font-size:32px; color:#ff9900;"
                                          data-ng-show="item.AvailabilityLevel == 'NotAvailable'"></span>
                                    <span class="glyphicon glyphicon-question-sign" aria-hidden="true"
                                          style="font-size:32px; color:#ffcc00;"
                                          data-ng-show="item.AvailabilityLevel == 'Requestable'"></span>
                                </td>
                                <td>
                                    <button type="button"
                                            data-ng-class="{'btn':true, 'btn-red':(item.AvailabilityLevel != 'NotAvailable'), 'btn-default':(item.AvailabilityLevel == 'NotAvailable') }"
                                            data-ng-disabled="{{item.AvailabilityLevel=='NotAvailable'}}"
                                            data-ng-click="addToShoppingCart(item.Id)">
                                        <span class="icon-cart" aria-hidden="true"></span>&nbsp;&nbsp;{{"ADD"|translate}}
                                    </button>
                                </td>
                            </tr>
                            <tr data-ng-repeat-end data-ng-show="item.Information.length == 1 && item.show" >
                                <td colspan="5" data-ng-bind-html="item.Information[0].FormattedText"></td>
                            </tr>
                            </tbody>
                        </table>
                        <div class="text-center" data-ng-show="showNotAvailable">
                            <h3 class="text-info">Product is not available</h3>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!--<section class="detail-wrap" id="detail" data-ng-show="hotelItem.AdditionalInformation.length > 0">-->
            <!--<h3>{{detailTitle}}</h3>-->
            <!--<div class="content" data-ng-repeat="item in hotelItem.AdditionalInformation" >-->
                <!--<h4 class="text-red">{{item.Title}}</h4>-->
                <!--<hr>-->
                <!--<p data-ng-bind-html="item.FormattedText">-->
                <!--</p>-->
            <!--</div>-->
        <!--</section>-->

        <section class="detail-wrap" data-ng-repeat="item in hotelItem.AdditionalInformation" id="{{item.InformationId}}" data-ng-show="hotelItem.AdditionalInformation.length > 0">
            <h3>{{item.Title}}</h3>
            <div class="content">
                <p data-ng-bind-html="item.FormattedText">
                </p>
            </div>
        </section>

        <section class="detail-wrap" id="term" data-ng-show="hotelItem.Warnings.length > 0">
            <h3>{{hotelItem.Warnings[0].Title}}</h3>

            <div class="content">
                <!--<h4>{{hotelItem.AdditionalInformation[1].Title}}</h4>-->
                <p data-ng-repeat="item in hotelItem.Warnings" data-ng-bind-html="item.FormattedText"></p>
            </div>
        </section>
        <section class="detail-wrap" id="map">
            <h3>{{"LOCATION"|translate}}</h3>

            <div class="content">
                <!--<p><strong>Address：</strong>{{hotelItem.Address.Address1 + ', ' + hotelItem.Address.City + ', ' + hotelItem.Address.State}}</p>-->
                <p data-ng-show="hotelItem.Address.Address1 != ''"><strong>{{"ADDRESS"|translate}} 1：</strong>{{hotelItem.Address.Address1}}
                </p>

                <p data-ng-show="hotelItem.Address.Address2 != ''"><strong>{{"ADDRESS"|translate}} 2：</strong>{{hotelItem.Address.Address2}}
                </p>

                <p data-ng-show="hotelItem.Address.Address3 != ''"><strong>{{"ADDRESS"|translate}} 3：</strong>{{hotelItem.Address.Address3}}
                </p>

                <p data-ng-show="hotelItem.Address.City != ''"><strong>{{"CITY"|translate}}：</strong>{{hotelItem.Address.City}}
                </p>

                <p data-ng-show="hotelItem.Address.State != ''"><strong>{{"STATE"|translate}}：</strong>{{hotelItem.Address.State}}
                </p>

                <p data-ng-show="hotelItem.Address.Country != '' && hotelItem.Address.Country"><strong>{{"COUNTRY"|translate}}：</strong>{{hotelItem.Address.Country}}
                </p>

                <p data-ng-show="hotelItem.Address.Zip != ''"><strong>{{"ZIP"|translate}}：</strong>{{hotelItem.Address.Zip}}
                </p>
                <!--ui-map="myMap" ui-options="mapOptions"-->
                <div class="map-box" id="map_canvas" data-ng-show="showMap">
                </div>
            </div>
        </section>
    </div>
</div>


<script type="text/javascript">

    function initSlider(imageData) {
        var jssorOptions = {
            $FillMode: 1, //0: streach, 1: contain, 2: cover, 4: actual size, 5: contain for large image
            $AutoPlay: true,
            $ArrowNavigatorOptions: {
                $Class: $JssorArrowNavigator$
            },
            $ThumbnailNavigatorOptions: {
                $Class: $JssorThumbnailNavigator$,
                $Cols: 9,
                $SpacingX: 3,
                $SpacingY: 3,
                $Align: 260
            }
        };
        var slides = $('#slides');
        var container = slides.closest('.slides-container');
        if (!container.attr("id"))
            container.attr("id", new Date().getTime());

        var innerHtml = '';
        for (var i = 0; i < imageData.length; i++) {
            innerHtml += '<div data-p="112.50">';
            innerHtml += '<img data-u="image" src="' + imageData[i].image + '" />';
            if (imageData[i].thumb) {
                innerHtml += '<img data-u="thumb" src="' + imageData[i].thumb + '" />';
            }
            innerHtml += '</div>';
        }
        slides.html(innerHtml);

        var jssorObject1 = new $JssorSlider$(container.attr("id"), jssorOptions);

        function ScaleSlider1() {
            var refSize = jssorObject1.$Elmt.parentNode.clientWidth;
            if (refSize) {
                refSize = Math.min(refSize, 770);
                jssorObject1.$ScaleWidth(refSize);
            }
            else {
                window.setTimeout(ScaleSlider1, 30);
            }
        }

        ScaleSlider1();
        $Jssor$.$AddEvent(window, "load", ScaleSlider1);
        $Jssor$.$AddEvent(window, "resize", ScaleSlider1);
        $Jssor$.$AddEvent(window, "orientationchange", ScaleSlider1);

    }

//    var parts = {
////        0: 'top',
////        1: 'category',
////        2: 'detail',
////        3: 'term',
////        4: 'map'
//    };
//
//    //initiating jQuery
//    jQuery(function ($) {
//        $(document).ready(function () {
//            // 为 '.navbar-wrapper' class 启用stickUp插件
//            $('.detail-nav-wrap').stickUp({
//                parts: parts ,
//                itemClass: 'menu-item',
//                itemHover: 'active'
//            });
//        });
//    });

</script>
